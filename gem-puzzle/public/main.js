(()=>{"use strict";let e,t,o=[],n=[];function r(o){switch(o){case"up":n[e][t]=n[e-1][t],n[e-1][t]=0,e-=1;break;case"down":n[e][t]=n[e+1][t],n[e+1][t]=0,e+=1;break;case"right":n[e][t]=n[e][t+1],n[e][t+1]=0,t+=1;break;case"left":n[e][t]=n[e][t-1],n[e][t-1]=0,t-=1}}!function(){const l=document.createElement("div");l.classList.add("board"),l.innerHTML=function(l=4){for(let e=0;e<l;++e){n[e]=[];for(let t=0;t<l;++t)n[e][t]=e+t!==2*(l-1)?e*l+t+1:0}return n=function(n,l=4){e=l-1,t=l-1,o.push([e,t]);for(let n=0;n<80;n++)switch(Math.floor(4*Math.random())){case 0:r(0!=e?"up":"down"),o.push([e,t]);break;case 1:r(t!=l-1?"right":"left"),o.push([e,t]);break;case 2:r(e!=l-1?"down":"up"),o.push([e,t]);break;case 3:0!=t?r("left"):(r("right"),o.push([e,t]));break;default:throw n--,new Error(">:(")}return n}(n),console.log(n),function(e=4){let t,o="";for(let r=0,l=0;r<e;r++)for(let a=0;a<e;a++){t=n[r][a];let e=n[r][a]?"cell":"empty";o+=`<div style='order:${l++};' id='cell-${t}' class='${e}'>${t}</div>`}return o}()}(),console.table(o),document.body.appendChild(l)}(),document.querySelectorAll(".cell").forEach((o=>{o.addEventListener("mousedown",(o=>{!function(o){console.log("in swap"),o=parseInt(o);for(let r=0;r<n.length;r++)for(let l=0;l<n[r].length;l++)n[r][l]===o&&(console.log(n[r][l],n[e][t]),(Math.abs(e-r)<=1&&t-l==0||Math.abs(t-l)<=1&&e-r==0)&&([n[r][l],n[e][t]]=[n[e][t],n[r][l]],e=r,t=l,console.log(n)))}(o.target.innerHTML)}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW0tcHV6emxlLy4vc3JjL2JvYXJkLnRzIiwid2VicGFjazovL2dlbS1wdXp6bGUvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiZW1wdHlYIiwiZW1wdHlZIiwiYXJyIiwibW92ZSIsImRpcmVjdGlvbiIsImVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJzaXplIiwiaSIsImoiLCJwdXNoIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiRXJyb3IiLCJzaHVmZmxlIiwiY29uc29sZSIsImxvZyIsImNlbGxOdW1iZXIiLCJib2FyZCIsIm9yZGVyIiwiY2xhc3NOYW1lIiwicmVuZGVyQm9hcmQiLCJjcmVhdGVCb2FyZCIsInRhYmxlIiwiYm9keSIsImFwcGVuZENoaWxkIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJjZWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsIm51bWJlciIsInBhcnNlSW50IiwibGVuZ3RoIiwiYWJzIiwic3dhcCIsInRhcmdldCJdLCJtYXBwaW5ncyI6Im1CQUFBLElBRUlBLEVBQ0FDLEVBSEEsRUFBc0IsR0FJdEJDLEVBQWlCLEdBRXJCLFNBQVNDLEVBQUtDLEdBQ1osT0FBT0EsR0FDTCxJQUFJLEtBQ0ZGLEVBQUlGLEdBQVFDLEdBQVVDLEVBQUlGLEVBQVMsR0FBR0MsR0FDdENDLEVBQUlGLEVBQVMsR0FBR0MsR0FBVSxFQUMxQkQsR0FBa0IsRUFDcEIsTUFDQSxJQUFLLE9BQ0hFLEVBQUlGLEdBQVFDLEdBQVVDLEVBQUlGLEVBQVMsR0FBR0MsR0FDdENDLEVBQUlGLEVBQVMsR0FBR0MsR0FBVSxFQUMxQkQsR0FBa0IsRUFDcEIsTUFDQSxJQUFLLFFBQ0hFLEVBQUlGLEdBQVFDLEdBQVVDLEVBQUlGLEdBQVFDLEVBQVMsR0FDM0NDLEVBQUlGLEdBQVFDLEVBQVMsR0FBSyxFQUMxQkEsR0FBa0IsRUFDcEIsTUFDQSxJQUFL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dGVudCI6WyJsZXQgaGlzdG9yeTogbnVtYmVyW11bXSA9IFtdO1xyXG4vLyBsZXQgc2l6ZSA9IDQ7XHJcbmxldCBlbXB0eVg6bnVtYmVyO1xyXG5sZXQgZW1wdHlZOm51bWJlcjtcclxubGV0IGFycjpudW1iZXJbXVtdID0gW107XHJcblxyXG5mdW5jdGlvbiBtb3ZlKGRpcmVjdGlvbjpzdHJpbmcpe1xyXG4gIHN3aXRjaChkaXJlY3Rpb24pe1xyXG4gICAgY2FzZSd1cCc6XHJcbiAgICAgIGFycltlbXB0eVhdW2VtcHR5WV0gPSBhcnJbZW1wdHlYIC0gMV1bZW1wdHlZXTtcclxuICAgICAgYXJyW2VtcHR5WCAtIDFdW2VtcHR5WV0gPSAwO1xyXG4gICAgICBlbXB0eVggPSBlbXB0eVggLSAxO1xyXG4gICAgYnJlYWs7XHJcbiAgICBjYXNlICdkb3duJzpcclxuICAgICAgYXJyW2VtcHR5WF1bZW1wdHlZXSA9IGFycltlbXB0eVggKyAxXVtlbXB0eVldO1xyXG4gICAgICBhcnJbZW1wdHlYICsgMV1bZW1wdHlZXSA9IDA7XHJcbiAgICAgIGVtcHR5WCA9IGVtcHR5WCArIDE7XHJcbiAgICBicmVhaztcclxuICAgIGNhc2UgJ3JpZ2h0JzpcclxuICAgICAgYXJyW2VtcHR5WF1bZW1wdHlZXSA9IGFycltlbXB0eVhdW2VtcHR5WSArIDFdO1xyXG4gICAgICBhcnJbZW1wdHlYXVtlbXB0eVkgKyAxXSA9IDA7XHJcbiAgICAgIGVtcHR5WSA9IGVtcHR5WSArIDE7XHJcbiAgICBicmVhaztcclxuICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICBhcnJbZW1wdHlYXVtlbXB0eVldID0gYXJyW2VtcHR5WF1bZW1wdHlZIC0gMV07XHJcbiAgICAgIGFycltlbXB0eVhdW2VtcHR5WSAtIDFdID0gMDtcclxuICAgICAgZW1wdHlZID0gZW1wdHlZIC0gMTtcclxuICAgIGJyZWFrO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNodWZmbGUoYXJyOm51bWJlcltdW10sIHNpemU6IG51bWJlciA9IDQpOm51bWJlcltdW117XHJcbiAgZW1wdHlYID0gc2l6ZSAtMTtcclxuICBlbXB0eVkgPSBzaXplIC0xO1xyXG4gIGhpc3RvcnkucHVzaChbZW1wdHlYLCBlbXB0eVldKTtcclxuXHJcbiAgZm9yKGxldCBpID0gMDsgaSA8IDgwOyBpKyspe1xyXG4gICAgc3dpdGNoKE1hdGguZmxvb3IoNCAqIE1hdGgucmFuZG9tKCkpKXtcclxuICAgICAgY2FzZSAwOiBpZihlbXB0eVggIT0gMCkgeyAgXHJcbiAgICAgICAgLy9NT1ZFIFVQXHJcblxyXG4gICAgICAgIG1vdmUoJ3VwJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy9NT1ZFIERPV05cclxuICAgICAgICBtb3ZlKCdkb3duJyk7XHJcbiAgICAgIH1cclxuICAgICAgaGlzdG9yeS5wdXNoKFtlbXB0eVgsIGVtcHR5WV0pXHJcbiAgICAgIGJyZWFrO1xyXG5cdFx0XHRjYXNlIDE6IGlmKGVtcHR5WSAhPSBzaXplIC0gMSkge1xyXG4gICAgICAgIC8vTU9WRSBSSUdIVFxyXG4gICAgICAgIG1vdmUoJ3JpZ2h0Jyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy9NT1ZFIExFRlRcclxuICAgICAgICBtb3ZlKCdsZWZ0Jyk7XHJcbiAgICAgIH1cclxuICAgICAgaGlzdG9yeS5wdXNoKFtlbXB0eVgsIGVtcHR5WV0pXHJcbiAgICAgIGJyZWFrOyBcclxuXHRcdFx0Y2FzZSAyOiBpZihlbXB0eVggIT0gc2l6ZSAtIDEpIHtcclxuICAgICAgICAvL01PVkUgRE9XTlxyXG4gICAgICAgIG1vdmUoJ2Rvd24nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvL01PVkUgVVBcclxuICAgICAgICBtb3ZlKCd1cCcpO1xyXG4gICAgICB9XHJcbiAgICAgIGhpc3RvcnkucHVzaChbZW1wdHlYLCBlbXB0eVldKVxyXG4gICAgICBicmVhazsgXHJcblx0XHRcdGNhc2UgMzogaWYoZW1wdHlZICE9IDApIHtcclxuICAgICAgICAvL01PVkUgTEVGVFxyXG4gICAgICAgIG1vdmUoJ2xlZnQnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvL01PVkUgUklHSFRcclxuICAgICAgICBtb3ZlKCdyaWdodCcpO1xyXG4gICAgICBoaXN0b3J5LnB1c2goW2VtcHR5WCwgZW1wdHlZXSlcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBpLS07XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCc+OignKTtcclxuXHJcbiAgICB9XHJcbiAgICBcclxuICBcclxuICB9XHJcbiAgXHJcblxyXG4gIHJldHVybiBhcnI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUJvYXJkKHNpemU6IG51bWJlciA9IDQpOnN0cmluZyB7XHJcblxyXG5cclxuICBmb3IobGV0IGk9IDA7IGk8IHNpemU7ICsraSl7XHJcbiAgICBhcnJbaV09W107XHJcbiAgICBmb3IobGV0IGogPSAwO2ogPCBzaXplOyArK2ope1xyXG4gICAgICBpZihpK2ogIT09IChzaXplIC0xKSAqIDIpe1xyXG4gICAgICAgIGFycltpXVtqXSA9IGkqc2l6ZSArIGogKyAxO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFycltpXVtqXT0gMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXJyID0gc2h1ZmZsZShhcnIpO1xyXG4gIGNvbnNvbGUubG9nKGFycik7XHJcblxyXG5cclxuXHJcblxyXG4gIHJldHVybiByZW5kZXJCb2FyZCgpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyQm9hcmQoIHNpemU6IG51bWJlciA9IDQpe1xyXG4gIGxldCBib2FyZCA9Jyc7XHJcbiAgbGV0IGNlbGxOdW1iZXI6IG51bWJlcjtcclxuXHJcbiAgZm9yKGxldCBpID0gMCwgb3JkZXIgPSAwOyBpPCBzaXplOyBpKyspe1xyXG4gICAgZm9yKGxldCBqID0gMDsgaiA8IHNpemU7IGorKyl7XHJcbiAgICAgIGNlbGxOdW1iZXIgPSBhcnJbaV1bal07XHJcbiAgICAgIGxldCBjbGFzc05hbWUgPSBhcnJbaV1bal0gPyAnY2VsbCcgOiAnZW1wdHknO1xyXG5cclxuICAgICAgYm9hcmQgKz0gYDxkaXYgc3R5bGU9J29yZGVyOiR7b3JkZXIrK307JyBpZD0nY2VsbC0ke2NlbGxOdW1iZXJ9JyBjbGFzcz0nJHtjbGFzc05hbWV9Jz4ke2NlbGxOdW1iZXJ9PC9kaXY+YDtcclxuICAgICAgXHJcblxyXG5cclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICByZXR1cm4gYm9hcmRcclxufVxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBzd2FwKG51bWJlcjphbnkpe1xyXG4gIGNvbnNvbGUubG9nKCdpbiBzd2FwJyk7XHJcbiAgbnVtYmVyID0gcGFyc2VJbnQobnVtYmVyKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPGFycltpXS5sZW5ndGg7IGorKyl7XHJcbiAgICAgIFxyXG4gICAgICBpZihhcnJbaV1bal09PT1udW1iZXIpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGFycltpXVtqXSwgYXJyW2VtcHR5WF1bZW1wdHlZXSk7XHJcbiAgICAgICAgaWYoTWF0aC5hYnMoZW1wdHlYIC0gaSkgPD0gMSAmJiBlbXB0eVkgLSBqID09PSAwIHx8IE1hdGguYWJzKGVtcHR5WSAtIGopIDw9IDEgJiYgZW1wdHlYIC0gaSA9PT0wKSB7XHJcblxyXG4gICAgICAgICAgLy8gbGV0IHplcm8gPSA8SFRNTEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2NlbGwtJHthcnJbZW1wdHlYXVtlbXB0eVldfWApO1xyXG4gICAgICAgICAgLy8gbGV0IGUgPSA8SFRNTEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2NlbGwtJHthcnJbaV1bal19YCk7XHJcbiAgICAgICAgICAvLyBsZXQgdGVtcCA9IHplcm8uc3R5bGUub3JkZXI7XHJcbiAgICAgICAgICAvLyB6ZXJvLnN0eWxlLm9yZGVyID0gZS5zdHlsZS5vcmRlcjtcclxuICAgICAgICAgIC8vIGUuc3R5bGUub3JkZXIgPSB0ZW1wO1xyXG4gICAgICAgICAgLy8gemVyby5zdHlsZS5vcmRlciA9IGFycltpXVtqXS50b1N0cmluZygpO1xyXG4gICAgICAgICAgLy8gZS5zdHlsZS5vcmRlciA9IGFycltlbXB0eVhdW2VtcHR5WV0udG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgICBbYXJyW2ldW2pdLCBhcnJbZW1wdHlYXVtlbXB0eVldXSA9IFthcnJbZW1wdHlYXVtlbXB0eVldLCBhcnJbaV1bal1dO1xyXG4gICAgICAgICAgZW1wdHlYID0gaTtcclxuICAgICAgICAgIGVtcHR5WSA9IGo7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhhcnIpO1xyXG4gICAgICAgICAgXHJcblxyXG5cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0ICB7Y3JlYXRlQm9hcmQsIGhpc3RvcnksIHN3YXB9O1xyXG5cclxuIiwiaW1wb3J0IHtjcmVhdGVCb2FyZCwgaGlzdG9yeSwgc3dhcH0gZnJvbSAnLi9ib2FyZCc7XHJcblxyXG5cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICBjb25zdCBlbGVtZW50OmFueSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYm9hcmQnKTtcclxuXHJcbiAgXHJcbiAgZWxlbWVudC5pbm5lckhUTUwgPSBjcmVhdGVCb2FyZCgpO1xyXG5cclxuICBjb25zb2xlLnRhYmxlKGhpc3RvcnkpO1xyXG5cclxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG59KSgpO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNlbGwnKS5mb3JFYWNoKGNlbGwgPT57XHJcbiAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XHJcbiAgICBjb25zdCBlbGVtID0gPEhUTUxFbGVtZW50PmV2dC50YXJnZXQ7XHJcblxyXG4gICAgc3dhcChlbGVtLmlubmVySFRNTCk7XHJcbiAgfSk7XHJcbn0pXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=