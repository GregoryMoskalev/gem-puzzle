(()=>{"use strict";const t=new class{constructor(){this.history=[],this.size=4,this.emptyX=0,this.emptyY=0,this.animationTime=400,this.boardWidth=40.8,this.marginSize=.1,this.removeBoard=()=>{document.querySelectorAll(".board").forEach((t=>{document.body.removeChild(t)}))}}move(t){switch(t){case"up":this.arr[this.emptyX][this.emptyY]=this.arr[this.emptyX-1][this.emptyY],this.arr[this.emptyX-1][this.emptyY]=0,this.emptyX-=1;break;case"down":this.arr[this.emptyX][this.emptyY]=this.arr[this.emptyX+1][this.emptyY],this.arr[this.emptyX+1][this.emptyY]=0,this.emptyX+=1;break;case"right":this.arr[this.emptyX][this.emptyY]=this.arr[this.emptyX][this.emptyY+1],this.arr[this.emptyX][this.emptyY+1]=0,this.emptyY+=1;break;case"left":this.arr[this.emptyX][this.emptyY]=this.arr[this.emptyX][this.emptyY-1],this.arr[this.emptyX][this.emptyY-1]=0,this.emptyY-=1;break;default:throw new Error(">:(")}}shuffle(){this.history.push([this.emptyX,this.emptyY]);for(let t=0;t<this.size**3;t+=1)switch(Math.floor(4*Math.random())){case 0:0!==this.emptyX?this.move("up"):this.move("down"),this.history.push([this.emptyX,this.emptyY]);break;case 1:this.emptyY!==this.size-1?this.move("right"):this.move("left"),this.history.push([this.emptyX,this.emptyY]);break;case 2:this.emptyX!==this.size-1?this.move("down"):this.move("up"),this.history.push([this.emptyX,this.emptyY]);break;case 3:0!==this.emptyY?this.move("left"):(this.move("right"),this.history.push([this.emptyX,this.emptyY]));break;default:throw t-=1,new Error(">:(")}}renderBoard(){let t="";const e=this.boardWidth+"rem";let i;for(let s=0,r=1;s<this.size;s+=1)for(let h=0;h<this.size;h+=1){i=this.arr[s][h];const n=this.arr[s][h]?"cell":"cell empty",o=!!this.arr[s][h],a=this.bgPosArr[i-1];r+=1,t+=`<div style='width:${this.cellSize}rem; height:${this.cellSize}rem; order:${r}; background-position: ${a}; background-size: ${e};' id='cell-${i}' class='${n}' draggable="${o}">${i}</div>`}const s=document.createElement("div");s.classList.add("board"),s.style.width=e,s.innerHTML=t,document.body.appendChild(s)}createBoard(){this.arr=[],this.bgPosArr=[],this.emptyX=this.size-1,this.emptyY=this.size-1;for(let t=0;t<this.size;t+=1){this.arr[t]=[];for(let e=0;e<this.size;e+=1)t+e!==2*(this.size-1)?(this.arr[t][e]=t*this.size+e+1,this.bgPosArr.push(`${Math.round(100/(this.size-1)*e)}% ${Math.round(100/(this.size-1)*t)}%`)):this.arr[t][e]=0}}draw(){const t=this.cellSize/this.animationTime*this.timePassed;switch(this.direction){case"up":this.e.style.transform=`translate( 0, ${-t}rem)`;break;case"down":this.e.style.transform=`translate( 0, ${t}rem)`;break;case"left":this.e.style.transform=`translate( ${-t}rem, 0)`;break;case"right":this.e.style.transform=`translate( ${t}rem, 0)`;break;default:throw new Error(">:(")}}moveAnimation(){this.inAnimation=!0,this.start=Date.now(),this.timer=setInterval((()=>{if(this.timePassed=Date.now()-this.start,this.timePassed>=this.animationTime)return clearInterval(this.timer),void(this.inAnimation=!1);this.draw()}),20)}checkWin(){const t=[];for(let e=0;e<this.size;e+=1){t[e]=[];for(let i=0;i<this.size;i+=1)e+i!==2*(this.size-1)?t[e][i]=e*this.size+i+1:t[e][i]=0}for(let e=0;e<this.size;e+=1)for(let i=0;i<this.size;i+=1)if(e+i!==2*(this.size-1)&&t[e][i]!==this.arr[e][i])return!1;return!0}swap(t){if(!this.inAnimation)for(let e=0;e<this.arr.length;e+=1)for(let i=0;i<this.arr[e].length;i+=1)if(this.arr[e][i]===t&&(Math.abs(this.emptyX-e)<=1&&this.emptyY-i==0||Math.abs(this.emptyY-i)<=1&&this.emptyX-e==0)){this.movesCounter+=1,document.querySelector(".move").innerHTML=this.movesCounter;const t=document.querySelector("#cell-"+this.arr[this.emptyX][this.emptyY]);return this.e=document.querySelector("#cell-"+this.arr[e][i]),this.emptyX-e<0?(this.direction="up",this.moveAnimation()):this.emptyX-e>0?(this.direction="down",this.moveAnimation()):this.emptyY-i<0?(this.direction="left",this.moveAnimation()):this.emptyY-i>0&&(this.direction="right",this.moveAnimation()),setTimeout((()=>{const e=t.style.order;t.style.order=this.e.style.order,this.e.style.order=e,this.e.style.transform="",this.emptyX===this.emptyY&&this.emptyY===this.size-1&&this.checkWin()&&(document.querySelector(".board").innerHTML+=`Ура! Вы решили головоломку за ${document.querySelector(".time").innerHTML} и ${document.querySelector(".move").innerHTML} ходов`)}),this.animationTime),[this.arr[e][i],this.arr[this.emptyX][this.emptyY]]=[this.arr[this.emptyX][this.emptyY],this.arr[e][i]],this.emptyX=e,void(this.emptyY=i)}}init(){this.history=[],this.movesCounter=0,document.querySelector(".move").innerHTML=this.movesCounter,this.size=document.getElementById("fieldSize").value,this.cellSize=parseFloat(this.boardWidth/this.size-2*this.marginSize).toFixed(3),this.removeBoard(),this.createBoard(),this.shuffle(),this.renderBoard(),document.querySelectorAll(".cell").forEach((t=>{t.addEventListener("mouseup",(t=>{const e=t.target;this.swap(parseInt(e.innerHTML,10))})),t.addEventListener("dragstart",this.dragStart),t.addEventListener("dragover",this.dragOver),t.addEventListener("drop",this.dragDrop),t.addEventListener("dragend",this.dragEnd)}))}load(){document.querySelector(".move").innerHTML=this.movesCounter,this.removeBoard(),this.renderBoard(),document.querySelectorAll(".cell").forEach((t=>{t.addEventListener("mouseup",(t=>{const e=t.target;this.swap(parseInt(e.innerHTML,10))})),t.addEventListener("dragstart",this.dragStart),t.addEventListener("dragover",this.dragOver),t.addEventListener("drop",this.dragDrop),t.addEventListener("dragend",this.dragEnd)}))}},e=new class{constructor(){this.currentTime=0}calcCurrentTime(){this.time=setInterval((()=>{this.currentTime+=1,this.secToMinAndSec()}),1e3)}secToMinAndSec(){this.minutes=Math.floor(this.currentTime/60),this.sec=(this.currentTime%60).toFixed(0),this.timer=`${this.minutes}:${this.sec<10?"0":""}${this.sec}`,this.renderTimer()}timerStop(){clearInterval(this.time),this.timer="0:00",this.renderTimer()}renderTimer(){document.querySelector(".time").innerHTML=this.timer}init(){this.timerStop(),this.currentTime=null,this.calcCurrentTime()}load(){this.timerStop(),this.secToMinAndSec(),this.renderTimer(),this.calcCurrentTime()}},i=document.createElement("menu");i.innerHTML='  \n<div class="menu">\n  <button class="new-game">New game</button>\n  <button class="save">Save</button>\n  <button class="load">Load</button>\n  <div class="timer"><span>Timer:</span><span class="time">0:00</span></div>\n  <div class="moves"><span>Moves:</span><span class="move">0</span></div>\n  <label for="fieldSize">Field size:</label>\n  <select id="fieldSize">\n  <option value="3">3</option>\n  <option selected="selected" value="4">4</option>\n  <option value="5">5</option>\n  <option value="6">6</option>\n  <option value="7">7</option>\n  <option value="8">8</option>\n  </select>\n</div>',document.body.appendChild(i),t.init(),e.init(),document.querySelector(".new-game").addEventListener("click",(()=>{t.init(),e.init()})),document.querySelector(".save").addEventListener("click",(()=>{localStorage.setItem("gameSave",JSON.stringify({history:t.history,size:t.size,boardTable:t.arr,time:e.currentTime,moves:t.movesCounter,zero:[t.emptyX,t.emptyY]}))})),document.querySelector(".load").addEventListener("click",(()=>{const{history:i,size:s,boardTable:r,time:h,moves:n,zero:o}=JSON.parse(localStorage.getItem("gameSave"));t.history=i,t.size=s,e.currentTime=h,t.movesCounter=n,t.arr=r,t.load(),e.load(),[t.emptyX,t.emptyY]=o})),document.getElementById("fieldSize").addEventListener("change",(()=>{t.init(),e.init()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW0tcHV6emxlLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL2dlbS1wdXp6bGUvLi9zcmMvQm9hcmQuanMiLCJ3ZWJwYWNrOi8vZ2VtLXB1enpsZS8uL3NyYy9UaW1lci5qcyJdLCJuYW1lcyI6WyJib2FyZCIsInRoaXMiLCJoaXN0b3J5Iiwic2l6ZSIsImVtcHR5WCIsImVtcHR5WSIsImFuaW1hdGlvblRpbWUiLCJib2FyZFdpZHRoIiwibWFyZ2luU2l6ZSIsInJlbW92ZUJvYXJkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsZW0iLCJib2R5IiwicmVtb3ZlQ2hpbGQiLCJkaXJlY3Rpb24iLCJhcnIiLCJFcnJvciIsInB1c2giLCJpIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibW92ZSIsImNlbGxOdW1iZXIiLCJvcmRlciIsImoiLCJjbGFzc05hbWUiLCJkcmFnZ2FibGUiLCJiR3BvcyIsImJnUG9zQXJyIiwiY2VsbFNpemUiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInN0eWxlIiwid2lkdGgiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsInJvdW5kIiwicmVtUGVyVGljayIsInRpbWVQYXNzZWQiLCJlIiwidHJhbnNmb3JtIiwiaW5BbmltYXRpb24iLCJzdGFydCIsIkRhdGUiLCJub3ciLCJ0aW1lciIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImRyYXciLCJ3aW4iLCJudW1iZXIiLCJsZW5ndGgiLCJhYnMiLCJtb3Zlc0NvdW50ZXIiLCJxdWVyeVNlbGVjdG9yIiwiemVybyIsIm1vdmVBbmltYXRpb24iLCJzZXRUaW1lb3V0IiwidGVtcCIsImNoZWNrV2luIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwiY3JlYXRlQm9hcmQiLCJzaHVmZmxlIiwicmVuZGVyQm9hcmQiLCJjZWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsInRhcmdldCIsInN3YXAiLCJwYXJzZUludCIsImRyYWdTdGFydCIsImRyYWdPdmVyIiwiZHJhZ0Ryb3AiLCJkcmFnRW5kIiwiY3VycmVudFRpbWUiLCJ0aW1lIiwic2VjVG9NaW5BbmRTZWMiLCJtaW51dGVzIiwic2VjIiwicmVuZGVyVGltZXIiLCJ0aW1lclN0b3AiLCJjYWxjQ3VycmVudFRpbWUiLCJtZW51IiwiaW5pdCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiYm9hcmRUYWJsZSIsIm1vdmVzIiwicGFyc2UiLCJnZXRJdGVtIiwibG9hZCJdLCJtYXBwaW5ncyI6Im1CQUdBLE1BQU1BLEVBQVEsSUNIQyxNQUNiLGNBQ0VDLEtBQUtDLFFBQVUsR0FDZkQsS0FBS0UsS0FBTyxFQUNaRixLQUFLRyxPQUFTLEVBQ2RILEtBQUtJLE9BQVMsRUFDZEosS0FBS0ssY0FBZ0IsSUFDckJMLEtBQUtNLFdBQWEsS0FDbEJOLEtBQUtPLFdBQWEsR0FDbEJQLEtBQUtRLFlBQWMsS0FDakJDLFNBQVNDLGlCQUFpQixVQUFVQyxTQUFTQyxJQUMzQ0gsU0FBU0ksS0FBS0MsWUFBWUYsT0FLaEMsS0FBS0csR0FDSCxPQUFRQSxHQUNOLElBQUssS0FDSGYsS0FBS2dCLElBQUloQixLQUFLRyxRQUFRSCxLQUFLSSxRQUFVSixLQUFLZ0IsSUFBSWhCLEtBQUtHLE9BQVMsR0FBR0gsS0FBS0ksUUFDcEVKLEtBQUtnQixJQUFJaEIsS0FBS0csT0FBUyxHQUFHSCxLQUFLSSxRQUFVLEVBQ3pDSixLQUFLRyxRQUFVLEVBQ2YsTUFDRixJQUFLLE9BQ0hILEtBQUtnQixJQUFJaEIsS0FBS0csUUFBUUgsS0FBS0ksUUFBVUosS0FBS2dCLElBQUloQixLQUFLRyxPQUFTLEdBQUdILEtBQUtJLFFBQ3BFSixLQUFLZ0IsSUFBSWhCLEtBQUtHLE9BQVMsR0FBR0gsS0FBS0ksUUFBVSxFQUN6Q0osS0FBS0csUUFBVSxFQUNmLE1BQ0YsSUFBSyxRQUNISCxLQUFLZ0Is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TUcsS0FBT0EsRUFDYitDLEVBQU1nQyxZQUFjQyxFQUNwQm5GLEVBQU0wRCxhQUFldUMsRUFDckJqRyxFQUFNaUIsSUFBTStFLEVBQ1poRyxFQUFNb0csT0FDTmxELEVBQU1rRCxRQUNKcEcsRUFBTUksT0FBUUosRUFBTUssUUFBV3VELEtBR25DbEQsU0FBU3VELGVBQWUsYUFBYVEsaUJBQWlCLFVBQVUsS0FDOUR6RSxFQUFNMkYsT0FDTnpDLEVBQU15QyxXIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQm9hcmQgZnJvbSAnLi9Cb2FyZC5qcyc7XHJcbmltcG9ydCBUaW1lciBmcm9tICcuL1RpbWVyLmpzJztcclxuXHJcbmNvbnN0IGJvYXJkID0gbmV3IEJvYXJkKCk7XHJcbmNvbnN0IHRpbWVyID0gbmV3IFRpbWVyKCk7XHJcblxyXG5jb25zdCBtZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWVudScpO1xyXG5cclxubWVudS5pbm5lckhUTUwgPSBgICBcclxuPGRpdiBjbGFzcz1cIm1lbnVcIj5cclxuICA8YnV0dG9uIGNsYXNzPVwibmV3LWdhbWVcIj5OZXcgZ2FtZTwvYnV0dG9uPlxyXG4gIDxidXR0b24gY2xhc3M9XCJzYXZlXCI+U2F2ZTwvYnV0dG9uPlxyXG4gIDxidXR0b24gY2xhc3M9XCJsb2FkXCI+TG9hZDwvYnV0dG9uPlxyXG4gIDxkaXYgY2xhc3M9XCJ0aW1lclwiPjxzcGFuPlRpbWVyOjwvc3Bhbj48c3BhbiBjbGFzcz1cInRpbWVcIj4wOjAwPC9zcGFuPjwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJtb3Zlc1wiPjxzcGFuPk1vdmVzOjwvc3Bhbj48c3BhbiBjbGFzcz1cIm1vdmVcIj4wPC9zcGFuPjwvZGl2PlxyXG4gIDxsYWJlbCBmb3I9XCJmaWVsZFNpemVcIj5GaWVsZCBzaXplOjwvbGFiZWw+XHJcbiAgPHNlbGVjdCBpZD1cImZpZWxkU2l6ZVwiPlxyXG4gIDxvcHRpb24gdmFsdWU9XCIzXCI+Mzwvb3B0aW9uPlxyXG4gIDxvcHRpb24gc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiIHZhbHVlPVwiNFwiPjQ8L29wdGlvbj5cclxuICA8b3B0aW9uIHZhbHVlPVwiNVwiPjU8L29wdGlvbj5cclxuICA8b3B0aW9uIHZhbHVlPVwiNlwiPjY8L29wdGlvbj5cclxuICA8b3B0aW9uIHZhbHVlPVwiN1wiPjc8L29wdGlvbj5cclxuICA8b3B0aW9uIHZhbHVlPVwiOFwiPjg8L29wdGlvbj5cclxuICA8L3NlbGVjdD5cclxuPC9kaXY+YDtcclxuXHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobWVudSk7XHJcblxyXG5ib2FyZC5pbml0KCk7XHJcbnRpbWVyLmluaXQoKTtcclxuXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXctZ2FtZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGJvYXJkLmluaXQoKTtcclxuICB0aW1lci5pbml0KCk7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNhdmUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcclxuICAgICdnYW1lU2F2ZScsXHJcbiAgICBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgIGhpc3Rvcnk6IGJvYXJkLmhpc3RvcnksXHJcbiAgICAgIHNpemU6IGJvYXJkLnNpemUsXHJcbiAgICAgIGJvYXJkVGFibGU6IGJvYXJkLmFycixcclxuICAgICAgdGltZTogdGltZXIuY3VycmVudFRpbWUsXHJcbiAgICAgIG1vdmVzOiBib2FyZC5tb3Zlc0NvdW50ZXIsXHJcbiAgICAgIHplcm86IFsgYm9hcmQuZW1wdHlYLCBib2FyZC5lbXB0eVkgXVxyXG4gICAgfSlcclxuICApO1xyXG59KTtcclxuXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgY29uc3QgeyBoaXN0b3J5LCBzaXplLCBib2FyZFRhYmxlLCB0aW1lLCBtb3ZlcywgemVybyB9ID0gSlNPTi5wYXJzZShcclxuICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYW1lU2F2ZScpXHJcbiAgKTtcclxuICBib2FyZC5oaXN0b3J5ID0gaGlzdG9yeTtcclxuICBib2FyZC5zaXplID0gc2l6ZTtcclxuICB0aW1lci5jdXJyZW50VGltZSA9IHRpbWU7XHJcbiAgYm9hcmQubW92ZXNDb3VudGVyID0gbW92ZXM7XHJcbiAgYm9hcmQuYXJyID0gYm9hcmRUYWJsZTtcclxuICBib2FyZC5sb2FkKCk7XHJcbiAgdGltZXIubG9hZCgpO1xyXG4gIFsgYm9hcmQuZW1wdHlYLCBib2FyZC5lbXB0eVkgXSA9IHplcm87XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpZWxkU2l6ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcclxuICBib2FyZC5pbml0KCk7XHJcbiAgdGltZXIuaW5pdCgpO1xyXG59KTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm9hcmQge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5oaXN0b3J5ID0gW107XHJcbiAgICB0aGlzLnNpemUgPSA0O1xyXG4gICAgdGhpcy5lbXB0eVggPSAwO1xyXG4gICAgdGhpcy5lbXB0eVkgPSAwO1xyXG4gICAgdGhpcy5hbmltYXRpb25UaW1lID0gNDAwO1xyXG4gICAgdGhpcy5ib2FyZFdpZHRoID0gNDAuODtcclxuICAgIHRoaXMubWFyZ2luU2l6ZSA9IDAuMTtcclxuICAgIHRoaXMucmVtb3ZlQm9hcmQgPSAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ib2FyZCcpLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW0pO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBtb3ZlKGRpcmVjdGlvbikge1xyXG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcclxuICAgICAgY2FzZSAndXAnOlxyXG4gICAgICAgIHRoaXMuYXJyW3RoaXMuZW1wdHlYXVt0aGlzLmVtcHR5WV0gPSB0aGlzLmFyclt0aGlzLmVtcHR5WCAtIDFdW3RoaXMuZW1wdHlZXTtcclxuICAgICAgICB0aGlzLmFyclt0aGlzLmVtcHR5WCAtIDFdW3RoaXMuZW1wdHlZXSA9IDA7XHJcbiAgICAgICAgdGhpcy5lbXB0eVggLT0gMTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnZG93bic6XHJcbiAgICAgICAgdGhpcy5hcnJbdGhpcy5lbXB0eVhdW3RoaXMuZW1wdHlZXSA9IHRoaXMuYXJyW3RoaXMuZW1wdHlYICsgMV1bdGhpcy5lbXB0eVldO1xyXG4gICAgICAgIHRoaXMuYXJyW3RoaXMuZW1wdHlYICsgMV1bdGhpcy5lbXB0eVldID0gMDtcclxuICAgICAgICB0aGlzLmVtcHR5WCArPSAxO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgdGhpcy5hcnJbdGhpcy5lbXB0eVhdW3RoaXMuZW1wdHlZXSA9IHRoaXMuYXJyW3RoaXMuZW1wdHlYXVt0aGlzLmVtcHR5WSArIDFdO1xyXG4gICAgICAgIHRoaXMuYXJyW3RoaXMuZW1wdHlYXVt0aGlzLmVtcHR5WSArIDFdID0gMDtcclxuICAgICAgICB0aGlzLmVtcHR5WSArPSAxO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICB0aGlzLmFyclt0aGlzLmVtcHR5WF1bdGhpcy5lbXB0eVldID0gdGhpcy5hcnJbdGhpcy5lbXB0eVhdW3RoaXMuZW1wdHlZIC0gMV07XHJcbiAgICAgICAgdGhpcy5hcnJbdGhpcy5lbXB0eVhdW3RoaXMuZW1wdHlZIC0gMV0gPSAwO1xyXG4gICAgICAgIHRoaXMuZW1wdHlZIC09IDE7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCc+OignKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNodWZmbGUoKSB7XHJcbiAgICB0aGlzLmhpc3RvcnkucHVzaChbIHRoaXMuZW1wdHlYLCB0aGlzLmVtcHR5WSBdKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2l6ZSAqKiAzOyBpICs9IDEpIHtcclxuICAgICAgc3dpdGNoIChNYXRoLmZsb29yKDQgKiBNYXRoLnJhbmRvbSgpKSkge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgIGlmICh0aGlzLmVtcHR5WCAhPT0gMCkge1xyXG4gICAgICAgICAgICAvLyAgTU9WRSBVUFxyXG5cclxuICAgICAgICAgICAgdGhpcy5tb3ZlKCd1cCcpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gIE1PVkUgRE9XTlxyXG4gICAgICAgICAgICB0aGlzLm1vdmUoJ2Rvd24nKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuaGlzdG9yeS5wdXNoKFsgdGhpcy5lbXB0eVgsIHRoaXMuZW1wdHlZIF0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgaWYgKHRoaXMuZW1wdHlZICE9PSB0aGlzLnNpemUgLSAxKSB7XHJcbiAgICAgICAgICAgIC8vICBNT1ZFIFJJR0hUXHJcbiAgICAgICAgICAgIHRoaXMubW92ZSgncmlnaHQnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICBNT1ZFIExFRlRcclxuICAgICAgICAgICAgdGhpcy5tb3ZlKCdsZWZ0Jyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmhpc3RvcnkucHVzaChbIHRoaXMuZW1wdHlYLCB0aGlzLmVtcHR5WSBdKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgIGlmICh0aGlzLmVtcHR5WCAhPT0gdGhpcy5zaXplIC0gMSkge1xyXG4gICAgICAgICAgICAvLyAgTU9WRSBET1dOXHJcbiAgICAgICAgICAgIHRoaXMubW92ZSgnZG93bicpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gIE1PVkUgVVBcclxuICAgICAgICAgICAgdGhpcy5tb3ZlKCd1cCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5oaXN0b3J5LnB1c2goWyB0aGlzLmVtcHR5WCwgdGhpcy5lbXB0eVkgXSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICBpZiAodGhpcy5lbXB0eVkgIT09IDApIHtcclxuICAgICAgICAgICAgLy8gIE1PVkUgTEVGVFxyXG4gICAgICAgICAgICB0aGlzLm1vdmUoJ2xlZnQnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICBNT1ZFIFJJR0hUXHJcbiAgICAgICAgICAgIHRoaXMubW92ZSgncmlnaHQnKTtcclxuICAgICAgICAgICAgdGhpcy5oaXN0b3J5LnB1c2goWyB0aGlzLmVtcHR5WCwgdGhpcy5lbXB0eVkgXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgaSAtPSAxO1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCc+OignKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyQm9hcmQoKSB7XHJcbiAgICBsZXQgYm9hcmQgPSAnJztcclxuICAgIGNvbnN0IGJvYXJkV2lkdGggPSBgJHt0aGlzLmJvYXJkV2lkdGh9cmVtYDtcclxuICAgIGxldCBjZWxsTnVtYmVyO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwLCBvcmRlciA9IDE7IGkgPCB0aGlzLnNpemU7IGkgKz0gMSkge1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuc2l6ZTsgaiArPSAxKSB7XHJcbiAgICAgICAgY2VsbE51bWJlciA9IHRoaXMuYXJyW2ldW2pdO1xyXG4gICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IHRoaXMuYXJyW2ldW2pdID8gJ2NlbGwnIDogJ2NlbGwgZW1wdHknO1xyXG4gICAgICAgIGNvbnN0IGRyYWdnYWJsZSA9ICEhdGhpcy5hcnJbaV1bal07XHJcbiAgICAgICAgY29uc3QgYkdwb3MgPSB0aGlzLmJnUG9zQXJyW2NlbGxOdW1iZXIgLSAxXTtcclxuICAgICAgICBvcmRlciArPSAxO1xyXG5cclxuICAgICAgICBib2FyZCArPSBgPGRpdiBzdHlsZT0nd2lkdGg6JHt0aGlzLmNlbGxTaXplfXJlbTsgaGVpZ2h0OiR7dGhpc1xyXG4gICAgICAgICAgLmNlbGxTaXplfXJlbTsgb3JkZXI6JHtvcmRlcn07IGJhY2tncm91bmQtcG9zaXRpb246ICR7Ykdwb3N9OyBiYWNrZ3JvdW5kLXNpemU6ICR7Ym9hcmRXaWR0aH07JyBpZD0nY2VsbC0ke2NlbGxOdW1iZXJ9JyBjbGFzcz0nJHtjbGFzc05hbWV9JyBkcmFnZ2FibGU9XCIke2RyYWdnYWJsZX1cIj4ke2NlbGxOdW1iZXJ9PC9kaXY+YDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYm9hcmQnKTtcclxuICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSBib2FyZFdpZHRoO1xyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSBib2FyZDtcclxuXHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlQm9hcmQoKSB7XHJcbiAgICB0aGlzLmFyciA9IFtdO1xyXG4gICAgdGhpcy5iZ1Bvc0FyciA9IFtdO1xyXG4gICAgdGhpcy5lbXB0eVggPSB0aGlzLnNpemUgLSAxO1xyXG4gICAgdGhpcy5lbXB0eVkgPSB0aGlzLnNpemUgLSAxO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkgKz0gMSkge1xyXG4gICAgICB0aGlzLmFycltpXSA9IFtdO1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuc2l6ZTsgaiArPSAxKSB7XHJcbiAgICAgICAgaWYgKGkgKyBqICE9PSAodGhpcy5zaXplIC0gMSkgKiAyKSB7XHJcbiAgICAgICAgICB0aGlzLmFycltpXVtqXSA9IGkgKiB0aGlzLnNpemUgKyBqICsgMTtcclxuICAgICAgICAgIHRoaXMuYmdQb3NBcnIucHVzaChcclxuICAgICAgICAgICAgYCR7TWF0aC5yb3VuZCgxMDAgLyAodGhpcy5zaXplIC0gMSkgKiBqKX0lICR7TWF0aC5yb3VuZCgxMDAgLyAodGhpcy5zaXplIC0gMSkgKiBpKX0lYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5hcnJbaV1bal0gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZHJhdygpIHtcclxuICAgIGNvbnN0IHJlbVBlclRpY2sgPSB0aGlzLmNlbGxTaXplIC8gdGhpcy5hbmltYXRpb25UaW1lICogdGhpcy50aW1lUGFzc2VkO1xyXG4gICAgc3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xyXG4gICAgICBjYXNlICd1cCc6XHJcbiAgICAgICAgdGhpcy5lLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoIDAsICR7LXJlbVBlclRpY2t9cmVtKWA7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2Rvd24nOlxyXG4gICAgICAgIHRoaXMuZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCAwLCAke3JlbVBlclRpY2t9cmVtKWA7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgIHRoaXMuZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCAkey1yZW1QZXJUaWNrfXJlbSwgMClgO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgdGhpcy5lLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoICR7cmVtUGVyVGlja31yZW0sIDApYDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJz46KCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbW92ZUFuaW1hdGlvbigpIHtcclxuICAgIHRoaXMuaW5BbmltYXRpb24gPSB0cnVlO1xyXG4gICAgdGhpcy5zdGFydCA9IERhdGUubm93KCk7XHJcblxyXG4gICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgdGhpcy50aW1lUGFzc2VkID0gRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnQ7XHJcblxyXG4gICAgICBpZiAodGhpcy50aW1lUGFzc2VkID49IHRoaXMuYW5pbWF0aW9uVGltZSkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XHJcbiAgICAgICAgdGhpcy5pbkFuaW1hdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5kcmF3KCk7XHJcbiAgICB9LCAyMCk7XHJcbiAgfVxyXG5cclxuICBjaGVja1dpbigpIHtcclxuICAgIGNvbnN0IHdpbiA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkgKz0gMSkge1xyXG4gICAgICB3aW5baV0gPSBbXTtcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLnNpemU7IGogKz0gMSkge1xyXG4gICAgICAgIGlmIChpICsgaiAhPT0gKHRoaXMuc2l6ZSAtIDEpICogMikge1xyXG4gICAgICAgICAgd2luW2ldW2pdID0gaSAqIHRoaXMuc2l6ZSArIGogKyAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB3aW5baV1bal0gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaXplOyBpICs9IDEpIHtcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLnNpemU7IGogKz0gMSkge1xyXG4gICAgICAgIGlmIChpICsgaiAhPT0gKHRoaXMuc2l6ZSAtIDEpICogMikge1xyXG4gICAgICAgICAgaWYgKHdpbltpXVtqXSAhPT0gdGhpcy5hcnJbaV1bal0pIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHN3YXAobnVtYmVyKSB7XHJcbiAgICBpZiAodGhpcy5pbkFuaW1hdGlvbikgcmV0dXJuO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hcnIubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmFycltpXS5sZW5ndGg7IGogKz0gMSkge1xyXG4gICAgICAgIGlmICh0aGlzLmFycltpXVtqXSA9PT0gbnVtYmVyKSB7XHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIChNYXRoLmFicyh0aGlzLmVtcHR5WCAtIGkpIDw9IDEgJiYgdGhpcy5lbXB0eVkgLSBqID09PSAwKSB8fFxyXG4gICAgICAgICAgICAoTWF0aC5hYnModGhpcy5lbXB0eVkgLSBqKSA8PSAxICYmIHRoaXMuZW1wdHlYIC0gaSA9PT0gMClcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAvLyBNb3ZlIGNvdW50ZXJcclxuICAgICAgICAgICAgdGhpcy5tb3Zlc0NvdW50ZXIgKz0gMTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vdmUnKS5pbm5lckhUTUwgPSB0aGlzLm1vdmVzQ291bnRlcjtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHplcm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjY2VsbC0ke3RoaXMuYXJyW3RoaXMuZW1wdHlYXVt0aGlzLmVtcHR5WV19YCk7XHJcbiAgICAgICAgICAgIHRoaXMuZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNjZWxsLSR7dGhpcy5hcnJbaV1bal19YCk7XHJcblxyXG4gICAgICAgICAgICAvLyAgZmluZCB3aGVyZSBhcmUgd2UgbW92aW5nXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVtcHR5WCAtIGkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSAndXAnO1xyXG4gICAgICAgICAgICAgIHRoaXMubW92ZUFuaW1hdGlvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZW1wdHlYIC0gaSA+IDApIHtcclxuICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9ICdkb3duJztcclxuICAgICAgICAgICAgICB0aGlzLm1vdmVBbmltYXRpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVtcHR5WSAtIGogPCAwKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgICAgICAgdGhpcy5tb3ZlQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5lbXB0eVkgLSBqID4gMCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgICB0aGlzLm1vdmVBbmltYXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHplcm8uc3R5bGUub3JkZXI7XHJcbiAgICAgICAgICAgICAgemVyby5zdHlsZS5vcmRlciA9IHRoaXMuZS5zdHlsZS5vcmRlcjtcclxuICAgICAgICAgICAgICB0aGlzLmUuc3R5bGUub3JkZXIgPSB0ZW1wO1xyXG5cclxuICAgICAgICAgICAgICB0aGlzLmUuc3R5bGUudHJhbnNmb3JtID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgIGlmICh0aGlzLmVtcHR5WCA9PT0gdGhpcy5lbXB0eVkgJiYgdGhpcy5lbXB0eVkgPT09IHRoaXMuc2l6ZSAtIDEpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrV2luKCkpIHtcclxuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAgICAgICAgICAgICAnLmJvYXJkJ1xyXG4gICAgICAgICAgICAgICAgICApLmlubmVySFRNTCArPSBg0KPRgNCwISDQktGLINGA0LXRiNC40LvQuCDQs9C+0LvQvtCy0L7Qu9C+0LzQutGDINC30LAgJHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGltZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmlubmVySFRNTH0g0LggJHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW92ZScpLmlubmVySFRNTH0g0YXQvtC00L7QsmA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzLmFuaW1hdGlvblRpbWUpO1xyXG5cclxuICAgICAgICAgICAgWyB0aGlzLmFycltpXVtqXSwgdGhpcy5hcnJbdGhpcy5lbXB0eVhdW3RoaXMuZW1wdHlZXSBdID0gW1xyXG4gICAgICAgICAgICAgIHRoaXMuYXJyW3RoaXMuZW1wdHlYXVt0aGlzLmVtcHR5WV0sXHJcbiAgICAgICAgICAgICAgdGhpcy5hcnJbaV1bal1cclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgdGhpcy5lbXB0eVggPSBpO1xyXG4gICAgICAgICAgICB0aGlzLmVtcHR5WSA9IGo7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLmhpc3RvcnkgPSBbXTtcclxuICAgIHRoaXMubW92ZXNDb3VudGVyID0gMDtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb3ZlJykuaW5uZXJIVE1MID0gdGhpcy5tb3Zlc0NvdW50ZXI7XHJcbiAgICB0aGlzLnNpemUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmllbGRTaXplJykudmFsdWU7XHJcblxyXG4gICAgdGhpcy5jZWxsU2l6ZSA9IHBhcnNlRmxvYXQodGhpcy5ib2FyZFdpZHRoIC8gdGhpcy5zaXplIC0gMiAqIHRoaXMubWFyZ2luU2l6ZSkudG9GaXhlZCgzKTtcclxuXHJcbiAgICB0aGlzLnJlbW92ZUJvYXJkKCk7XHJcbiAgICB0aGlzLmNyZWF0ZUJvYXJkKCk7XHJcbiAgICB0aGlzLnNodWZmbGUoKTtcclxuICAgIHRoaXMucmVuZGVyQm9hcmQoKTtcclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VsbCcpLmZvckVhY2goKGNlbGwpID0+IHtcclxuICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKGV2dCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVsZW0gPSBldnQudGFyZ2V0O1xyXG4gICAgICAgIHRoaXMuc3dhcChwYXJzZUludChlbGVtLmlubmVySFRNTCwgMTApKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHRoaXMuZHJhZ1N0YXJ0KTtcclxuXHJcbiAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCB0aGlzLmRyYWdPdmVyKTtcclxuXHJcbiAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMuZHJhZ0Ryb3ApO1xyXG5cclxuICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgdGhpcy5kcmFnRW5kKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbG9hZCgpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb3ZlJykuaW5uZXJIVE1MID0gdGhpcy5tb3Zlc0NvdW50ZXI7XHJcbiAgICB0aGlzLnJlbW92ZUJvYXJkKCk7XHJcbiAgICB0aGlzLnJlbmRlckJvYXJkKCk7XHJcblxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNlbGwnKS5mb3JFYWNoKChjZWxsKSA9PiB7XHJcbiAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIChldnQpID0+IHtcclxuICAgICAgICBjb25zdCBlbGVtID0gZXZ0LnRhcmdldDtcclxuICAgICAgICB0aGlzLnN3YXAocGFyc2VJbnQoZWxlbS5pbm5lckhUTUwsIDEwKSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLmRyYWdTdGFydCk7XHJcblxyXG4gICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgdGhpcy5kcmFnT3Zlcik7XHJcblxyXG4gICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCB0aGlzLmRyYWdEcm9wKTtcclxuXHJcbiAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIHRoaXMuZHJhZ0VuZCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jdXJyZW50VGltZSA9IDA7XHJcbiAgICAvLyB0aGlzLnRpbWVyID0gJzA6MDAnO1xyXG4gIH1cclxuXHJcbiAgY2FsY0N1cnJlbnRUaW1lKCkge1xyXG4gICAgdGhpcy50aW1lID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB0aGlzLmN1cnJlbnRUaW1lICs9IDE7XHJcbiAgICAgIHRoaXMuc2VjVG9NaW5BbmRTZWMoKTtcclxuICAgIH0sIDEwMDApO1xyXG4gIH1cclxuXHJcbiAgc2VjVG9NaW5BbmRTZWMoKSB7XHJcbiAgICB0aGlzLm1pbnV0ZXMgPSBNYXRoLmZsb29yKHRoaXMuY3VycmVudFRpbWUgLyA2MCk7XHJcblxyXG4gICAgdGhpcy5zZWMgPSAodGhpcy5jdXJyZW50VGltZSAlIDYwKS50b0ZpeGVkKDApO1xyXG4gICAgdGhpcy50aW1lciA9IGAke3RoaXMubWludXRlc306JHt0aGlzLnNlYyA8IDEwID8gJzAnIDogJyd9JHt0aGlzLnNlY31gO1xyXG4gICAgdGhpcy5yZW5kZXJUaW1lcigpO1xyXG4gIH1cclxuXHJcbiAgdGltZXJTdG9wKCkge1xyXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWUpO1xyXG4gICAgdGhpcy50aW1lciA9ICcwOjAwJztcclxuICAgIHRoaXMucmVuZGVyVGltZXIoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlclRpbWVyKCkge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRpbWUnKS5pbm5lckhUTUwgPSB0aGlzLnRpbWVyO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMudGltZXJTdG9wKCk7XHJcbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gbnVsbDtcclxuICAgIHRoaXMuY2FsY0N1cnJlbnRUaW1lKCk7XHJcbiAgfVxyXG5cclxuICBsb2FkKCkge1xyXG4gICAgdGhpcy50aW1lclN0b3AoKTtcclxuICAgIHRoaXMuc2VjVG9NaW5BbmRTZWMoKTtcclxuICAgIHRoaXMucmVuZGVyVGltZXIoKTtcclxuXHJcbiAgICB0aGlzLmNhbGNDdXJyZW50VGltZSgpO1xyXG4gIH1cclxufVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==