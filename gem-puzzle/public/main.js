(()=>{"use strict";const e=[];let t,r,o=[];function n(e){switch(e){case"up":o[t][r]=o[t-1][r],o[t-1][r]=0,t-=1;break;case"down":o[t][r]=o[t+1][r],o[t+1][r]=0,t+=1;break;case"right":o[t][r]=o[t][r+1],o[t][r+1]=0,r+=1;break;case"left":o[t][r]=o[t][r-1],o[t][r-1]=0,r-=1;break;default:throw new Error(">:(")}}!function(){const l=document.createElement("div");l.classList.add("board"),l.innerHTML=function(l=4){for(let e=0;e<l;e+=1){o[e]=[];for(let t=0;t<l;t+=1)o[e][t]=e+t!==2*(l-1)?e*l+t+1:0}return o=function(l=4){t=l-1,r=l-1,e.push([t,r]);for(let o=0;o<80;o+=1)switch(Math.floor(4*Math.random())){case 0:n(0!==t?"up":"down"),e.push([t,r]);break;case 1:n(r!==l-1?"right":"left"),e.push([t,r]);break;case 2:n(t!==l-1?"down":"up"),e.push([t,r]);break;case 3:0!==r?n("left"):(n("right"),e.push([t,r]));break;default:throw o-=1,new Error(">:(")}return o}(),console.log(o),function(e=4){let t,r="";for(let n=0,l=1;n<e;n+=1)for(let c=0;c<e;c+=1){t=o[n][c];const e=o[n][c]?"cell":"empty";l+=1,r+=`<div style='order:${l};' id='cell-${t}' class='${e}'>${t}</div>`}return r}()}(),console.table(e),document.body.appendChild(l)}(),document.querySelectorAll(".cell").forEach((e=>{e.addEventListener("mousedown",(e=>{const n=e.target.innerHTML;!function(e){for(let n=0;n<o.length;n+=1)for(let l=0;l<o[n].length;l+=1)if(o[n][l]===e&&(Math.abs(t-n)<=1&&r-l==0||Math.abs(r-l)<=1&&t-n==0)){const e=document.querySelector("#cell-"+o[t][r]),c=document.querySelector("#cell-"+o[n][l]),s=e.style.order;return e.style.order=c.style.order,c.style.order=s,[o[n][l],o[t][r]]=[o[t][r],o[n][l]],t=n,void(r=l)}}(parseInt(n,10))}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW0tcHV6emxlLy4vc3JjL2JvYXJkLmpzIiwid2VicGFjazovL2dlbS1wdXp6bGUvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiZW1wdHlYIiwiZW1wdHlZIiwiYXJyIiwibW92ZSIsImRpcmVjdGlvbiIsIkVycm9yIiwiZWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImlubmVySFRNTCIsInNpemUiLCJpIiwiaiIsInB1c2giLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzaHVmZmxlIiwiY29uc29sZSIsImxvZyIsImNlbGxOdW1iZXIiLCJib2FyZCIsIm9yZGVyIiwiY2xhc3NOYW1lIiwicmVuZGVyQm9hcmQiLCJjcmVhdGVCb2FyZCIsInRhYmxlIiwiYm9keSIsImFwcGVuZENoaWxkIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJjZWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsImdlbSIsInRhcmdldCIsIm51bWJlciIsImxlbmd0aCIsImFicyIsInplcm8iLCJxdWVyeVNlbGVjdG9yIiwiZSIsInRlbXAiLCJzdHlsZSIsInN3YXAiLCJwYXJzZUludCJdLCJtYXBwaW5ncyI6Im1CQUFBLE1BQU0sRUFBVSxHQUVoQixJQUFJQSxFQUNBQyxFQUNBQyxFQUFNLEdBRVYsU0FBU0MsRUFBS0MsR0FDWixPQUFRQSxHQUNOLElBQUssS0FDSEYsRUFBSUYsR0FBUUMsR0FBVUMsRUFBSUYsRUFBUyxHQUFHQyxHQUN0Q0MsRUFBSUYsRUFBUyxHQUFHQyxHQUFVLEVBQzFCRCxHQUFVLEVBQ1YsTUFDRixJQUFLLE9BQ0hFLEVBQUlGLEdBQVFDLEdBQVVDLEVBQUlGLEVBQVMsR0FBR0MsR0FDdENDLEVBQUlGLEVBQVMsR0FBR0MsR0FBVSxFQUMxQkQsR0FBVSxFQUNWLE1BQ0YsSUFBSyxRQUNIRSxFQUFJRixHQUFRQyxHQUFVQyxFQUFJRixHQUFRQyxFQUFTLEdBQzNDQyxFQUFJ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TXJCLE1BT3hCLE9BTkFpQixFQUFLSSxNQUFNckIsTUFBUW1CLEVBQUVFLE1BQU1yQixNQUMzQm1CLEVBQUVFLE1BQU1yQixNQUFRb0IsR0FFZDFDLEVBQUlXLEdBQUdDLEdBQUlaLEVBQUlGLEdBQVFDLElBQVksQ0FBRUMsRUFBSUYsR0FBUUMsR0FBU0MsRUFBSVcsR0FBR0MsSUFDbkVkLEVBQVNhLE9BQ1RaLEVBQVNhLElDMUhmZ0MsQ0FEbUJDLFNBQVNYLEVBQUssWSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaGlzdG9yeSA9IFtdO1xyXG4vLyBsZXQgc2l6ZSA9IDQ7XHJcbmxldCBlbXB0eVg7XHJcbmxldCBlbXB0eVk7XHJcbmxldCBhcnIgPSBbXTtcclxuXHJcbmZ1bmN0aW9uIG1vdmUoZGlyZWN0aW9uKSB7XHJcbiAgc3dpdGNoIChkaXJlY3Rpb24pIHtcclxuICAgIGNhc2UgJ3VwJzpcclxuICAgICAgYXJyW2VtcHR5WF1bZW1wdHlZXSA9IGFycltlbXB0eVggLSAxXVtlbXB0eVldO1xyXG4gICAgICBhcnJbZW1wdHlYIC0gMV1bZW1wdHlZXSA9IDA7XHJcbiAgICAgIGVtcHR5WCAtPSAxO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ2Rvd24nOlxyXG4gICAgICBhcnJbZW1wdHlYXVtlbXB0eVldID0gYXJyW2VtcHR5WCArIDFdW2VtcHR5WV07XHJcbiAgICAgIGFycltlbXB0eVggKyAxXVtlbXB0eVldID0gMDtcclxuICAgICAgZW1wdHlYICs9IDE7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICBhcnJbZW1wdHlYXVtlbXB0eVldID0gYXJyW2VtcHR5WF1bZW1wdHlZICsgMV07XHJcbiAgICAgIGFycltlbXB0eVhdW2VtcHR5WSArIDFdID0gMDtcclxuICAgICAgZW1wdHlZICs9IDE7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgIGFycltlbXB0eVhdW2VtcHR5WV0gPSBhcnJbZW1wdHlYXVtlbXB0eVkgLSAxXTtcclxuICAgICAgYXJyW2VtcHR5WF1bZW1wdHlZIC0gMV0gPSAwO1xyXG4gICAgICBlbXB0eVkgLT0gMTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJz46KCcpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2h1ZmZsZShzaXplID0gNCkge1xyXG4gIGVtcHR5WCA9IHNpemUgLSAxO1xyXG4gIGVtcHR5WSA9IHNpemUgLSAxO1xyXG4gIGhpc3RvcnkucHVzaChbIGVtcHR5WCwgZW1wdHlZIF0pO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IDgwOyBpICs9IDEpIHtcclxuICAgIHN3aXRjaCAoTWF0aC5mbG9vcig0ICogTWF0aC5yYW5kb20oKSkpIHtcclxuICAgICAgY2FzZSAwOlxyXG4gICAgICAgIGlmIChlbXB0eVggIT09IDApIHtcclxuICAgICAgICAgIC8vICBNT1ZFIFVQXHJcblxyXG4gICAgICAgICAgbW92ZSgndXAnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gIE1PVkUgRE9XTlxyXG4gICAgICAgICAgbW92ZSgnZG93bicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBoaXN0b3J5LnB1c2goWyBlbXB0eVgsIGVtcHR5WSBdKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICAgIGlmIChlbXB0eVkgIT09IHNpemUgLSAxKSB7XHJcbiAgICAgICAgICAvLyAgTU9WRSBSSUdIVFxyXG4gICAgICAgICAgbW92ZSgncmlnaHQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gIE1PVkUgTEVGVFxyXG4gICAgICAgICAgbW92ZSgnbGVmdCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBoaXN0b3J5LnB1c2goWyBlbXB0eVgsIGVtcHR5WSBdKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAyOlxyXG4gICAgICAgIGlmIChlbXB0eVggIT09IHNpemUgLSAxKSB7XHJcbiAgICAgICAgICAvLyAgTU9WRSBET1dOXHJcbiAgICAgICAgICBtb3ZlKCdkb3duJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vICBNT1ZFIFVQXHJcbiAgICAgICAgICBtb3ZlKCd1cCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBoaXN0b3J5LnB1c2goWyBlbXB0eVgsIGVtcHR5WSBdKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAzOlxyXG4gICAgICAgIGlmIChlbXB0eVkgIT09IDApIHtcclxuICAgICAgICAgIC8vICBNT1ZFIExFRlRcclxuICAgICAgICAgIG1vdmUoJ2xlZnQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gIE1PVkUgUklHSFRcclxuICAgICAgICAgIG1vdmUoJ3JpZ2h0Jyk7XHJcbiAgICAgICAgICBoaXN0b3J5LnB1c2goWyBlbXB0eVgsIGVtcHR5WSBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgaSAtPSAxO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignPjooJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYXJyO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJCb2FyZChzaXplID0gNCkge1xyXG4gIGxldCBib2FyZCA9ICcnO1xyXG4gIGxldCBjZWxsTnVtYmVyO1xyXG5cclxuICBmb3IgKGxldCBpID0gMCwgb3JkZXIgPSAxOyBpIDwgc2l6ZTsgaSArPSAxKSB7XHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNpemU7IGogKz0gMSkge1xyXG4gICAgICBjZWxsTnVtYmVyID0gYXJyW2ldW2pdO1xyXG4gICAgICBjb25zdCBjbGFzc05hbWUgPSBhcnJbaV1bal0gPyAnY2VsbCcgOiAnZW1wdHknO1xyXG4gICAgICBvcmRlciArPSAxO1xyXG4gICAgICBib2FyZCArPSBgPGRpdiBzdHlsZT0nb3JkZXI6JHtvcmRlcn07JyBpZD0nY2VsbC0ke2NlbGxOdW1iZXJ9JyBjbGFzcz0nJHtjbGFzc05hbWV9Jz4ke2NlbGxOdW1iZXJ9PC9kaXY+YDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBib2FyZDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQm9hcmQoc2l6ZSA9IDQpIHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkgKz0gMSkge1xyXG4gICAgYXJyW2ldID0gW107XHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNpemU7IGogKz0gMSkge1xyXG4gICAgICBpZiAoaSArIGogIT09IChzaXplIC0gMSkgKiAyKSB7XHJcbiAgICAgICAgYXJyW2ldW2pdID0gaSAqIHNpemUgKyBqICsgMTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcnJbaV1bal0gPSAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhcnIgPSBzaHVmZmxlKCk7XHJcbiAgY29uc29sZS5sb2coYXJyKTtcclxuXHJcbiAgcmV0dXJuIHJlbmRlckJvYXJkKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN3YXAobnVtYmVyKSB7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXJyW2ldLmxlbmd0aDsgaiArPSAxKSB7XHJcbiAgICAgIGlmIChhcnJbaV1bal0gPT09IG51bWJlcikge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIChNYXRoLmFicyhlbXB0eVggLSBpKSA8PSAxICYmIGVtcHR5WSAtIGogPT09IDApIHx8XHJcbiAgICAgICAgICAoTWF0aC5hYnMoZW1wdHlZIC0gaikgPD0gMSAmJiBlbXB0eVggLSBpID09PSAwKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgY29uc3QgemVybyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNjZWxsLSR7YXJyW2VtcHR5WF1bZW1wdHlZXX1gKTtcclxuICAgICAgICAgIGNvbnN0IGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjY2VsbC0ke2FycltpXVtqXX1gKTtcclxuICAgICAgICAgIGNvbnN0IHRlbXAgPSB6ZXJvLnN0eWxlLm9yZGVyO1xyXG4gICAgICAgICAgemVyby5zdHlsZS5vcmRlciA9IGUuc3R5bGUub3JkZXI7XHJcbiAgICAgICAgICBlLnN0eWxlLm9yZGVyID0gdGVtcDtcclxuXHJcbiAgICAgICAgICBbIGFycltpXVtqXSwgYXJyW2VtcHR5WF1bZW1wdHlZXSBdID0gWyBhcnJbZW1wdHlYXVtlbXB0eVldLCBhcnJbaV1bal0gXTtcclxuICAgICAgICAgIGVtcHR5WCA9IGk7XHJcbiAgICAgICAgICBlbXB0eVkgPSBqO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgY3JlYXRlQm9hcmQsIGhpc3RvcnksIHN3YXAgfTtcclxuIiwiaW1wb3J0IHsgY3JlYXRlQm9hcmQsIGhpc3RvcnksIHN3YXAgfSBmcm9tICcuL2JvYXJkLmpzJztcclxuXHJcbihmdW5jdGlvbiBjb21wb25lbnQoKSB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYm9hcmQnKTtcclxuXHJcbiAgZWxlbWVudC5pbm5lckhUTUwgPSBjcmVhdGVCb2FyZCgpO1xyXG5cclxuICBjb25zb2xlLnRhYmxlKGhpc3RvcnkpO1xyXG5cclxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG59KSgpO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNlbGwnKS5mb3JFYWNoKChjZWxsKSA9PiB7XHJcbiAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XHJcbiAgICBjb25zdCBlbGVtID0gZXZ0LnRhcmdldDtcclxuICAgIGNvbnN0IGdlbSA9IGVsZW0uaW5uZXJIVE1MO1xyXG4gICAgY29uc3QgY2VsbE51bWJlciA9IHBhcnNlSW50KGdlbSwgMTApO1xyXG4gICAgc3dhcChjZWxsTnVtYmVyKTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=